HOWTO CONFIGURE OPEN CONNECT FOR VPN ACCESS

1.- Store your certificate inside $HOME/certs
mkdir $HOME/certs
And copy your certificate to $HOME/certs/personalcert.pfx

2.- Check that task bashrcconfignoroot.cnf.template is apply, and DSN_USER and DSN_PASS are set correctly

3.- Add to $HOME/.bash the following lines:
# For VPN access
export CERTFILE=$HOME/certs/personalcert.pfx
export CERTPASS=<pass_of_my_cert>
export ENDPOINTVPNPRE=<endpoint_for_vpn_preproduction>
export ENDPOINTVPNPRO=<endpoint_for_vpn_production>

4.- When we connect with openconnect in Linux, DNS servers of the VPN overwrite all content of /etc/resolv.conf
As workaround we need to create a file $HOME/vpnalldnsservers.conf with content:
; generated by /usr/sbin/dhclient-script
search hi.inet
<here the nameservers without VPN, the normal DNSs>

<here the nameservers of the VPN>

5.- As info the vpnconnect.sh run openconnect with sudo access, and use following PID files:
/var/run/vpnconnect_<pre|pro>.pid

6.- It use figlet rpm to display the VPN environment in big letters

7.- For help to use launch vpnconnect.sh without parameters

